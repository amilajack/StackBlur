!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.StackBlur=e():t.StackBlur=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e){"use strict";function r(t,e,r,n){if("string"==typeof t)t=document.getElementById(t);else if(!t instanceof HTMLImageElement)return;var o=t.naturalWidth,i=t.naturalHeight;if("string"==typeof e)var e=document.getElementById(e);else if(!e instanceof HTMLCanvasElement)return;e.style.width=o+"px",e.style.height=i+"px",e.width=o,e.height=i;var u=e.getContext("2d");u.clearRect(0,0,o,i),u.drawImage(t,0,0),isNaN(r)||1>r||(n?a(e,0,0,o,i,r):f(e,0,0,o,i,r))}function n(t,e,r,n,a){if("string"==typeof t)var t=document.getElementById(t);else if(!t instanceof HTMLCanvasElement)return;var o,f=t.getContext("2d");try{try{o=f.getImageData(e,r,n,a)}catch(i){throw new Error("unable to access local image data: "+i)}}catch(i){throw new Error("unable to access image data: "+i)}return o}function a(t,e,r,a,f,i){if(!(isNaN(i)||1>i)){i|=0;var u=n(t,e,r,a,f);u=o(u,e,r,a,f,i),t.getContext("2d").putImageData(u,e,r)}}function o(t,e,r,n,a,o){var f,i,s,l,x,d,b,m,p,v,h,y,w,B,E,I,C,N,D,R,j,G,H,M,L=t.data,T=o+o+1,k=n-1,A=a-1,S=o+1,_=S*(S+1)/2,O=new u,P=O;for(s=1;T>s;s++)if(P=P.next=new u,s==S)var W=P;P.next=O;var q=null,z=null;b=d=0;var F=g[o],J=c[o];for(i=0;a>i;i++){for(I=C=N=D=m=p=v=h=0,y=S*(R=L[d]),w=S*(j=L[d+1]),B=S*(G=L[d+2]),E=S*(H=L[d+3]),m+=_*R,p+=_*j,v+=_*G,h+=_*H,P=O,s=0;S>s;s++)P.r=R,P.g=j,P.b=G,P.a=H,P=P.next;for(s=1;S>s;s++)l=d+((s>k?k:s)<<2),m+=(P.r=R=L[l])*(M=S-s),p+=(P.g=j=L[l+1])*M,v+=(P.b=G=L[l+2])*M,h+=(P.a=H=L[l+3])*M,I+=R,C+=j,N+=G,D+=H,P=P.next;for(q=O,z=W,f=0;n>f;f++)L[d+3]=H=h*F>>J,0!=H?(H=255/H,L[d]=(m*F>>J)*H,L[d+1]=(p*F>>J)*H,L[d+2]=(v*F>>J)*H):L[d]=L[d+1]=L[d+2]=0,m-=y,p-=w,v-=B,h-=E,y-=q.r,w-=q.g,B-=q.b,E-=q.a,l=b+((l=f+o+1)<k?l:k)<<2,I+=q.r=L[l],C+=q.g=L[l+1],N+=q.b=L[l+2],D+=q.a=L[l+3],m+=I,p+=C,v+=N,h+=D,q=q.next,y+=R=z.r,w+=j=z.g,B+=G=z.b,E+=H=z.a,I-=R,C-=j,N-=G,D-=H,z=z.next,d+=4;b+=n}for(f=0;n>f;f++){for(C=N=D=I=p=v=h=m=0,d=f<<2,y=S*(R=L[d]),w=S*(j=L[d+1]),B=S*(G=L[d+2]),E=S*(H=L[d+3]),m+=_*R,p+=_*j,v+=_*G,h+=_*H,P=O,s=0;S>s;s++)P.r=R,P.g=j,P.b=G,P.a=H,P=P.next;for(x=n,s=1;o>=s;s++)d=x+f<<2,m+=(P.r=R=L[d])*(M=S-s),p+=(P.g=j=L[d+1])*M,v+=(P.b=G=L[d+2])*M,h+=(P.a=H=L[d+3])*M,I+=R,C+=j,N+=G,D+=H,P=P.next,A>s&&(x+=n);for(d=f,q=O,z=W,i=0;a>i;i++)l=d<<2,L[l+3]=H=h*F>>J,H>0?(H=255/H,L[l]=(m*F>>J)*H,L[l+1]=(p*F>>J)*H,L[l+2]=(v*F>>J)*H):L[l]=L[l+1]=L[l+2]=0,m-=y,p-=w,v-=B,h-=E,y-=q.r,w-=q.g,B-=q.b,E-=q.a,l=f+((l=i+S)<A?l:A)*n<<2,m+=I+=q.r=L[l],p+=C+=q.g=L[l+1],v+=N+=q.b=L[l+2],h+=D+=q.a=L[l+3],q=q.next,y+=R=z.r,w+=j=z.g,B+=G=z.b,E+=H=z.a,I-=R,C-=j,N-=G,D-=H,z=z.next,d+=n}return t}function f(t,e,r,a,o,f){if(!(isNaN(f)||1>f)){f|=0;var u=n(t,e,r,a,o);u=i(u,e,r,a,o,f),t.getContext("2d").putImageData(u,e,r)}}function i(t,e,r,n,a,o){var f,i,s,l,x,d,b,m,p,v,h,y,w,B,E,I,C,N,D,R,j=t.data,G=o+o+1,H=n-1,M=a-1,L=o+1,T=L*(L+1)/2,k=new u,A=k;for(s=1;G>s;s++)if(A=A.next=new u,s==L)var S=A;A.next=k;var _=null,O=null;b=d=0;var P=g[o],W=c[o];for(i=0;a>i;i++){for(B=E=I=m=p=v=0,h=L*(C=j[d]),y=L*(N=j[d+1]),w=L*(D=j[d+2]),m+=T*C,p+=T*N,v+=T*D,A=k,s=0;L>s;s++)A.r=C,A.g=N,A.b=D,A=A.next;for(s=1;L>s;s++)l=d+((s>H?H:s)<<2),m+=(A.r=C=j[l])*(R=L-s),p+=(A.g=N=j[l+1])*R,v+=(A.b=D=j[l+2])*R,B+=C,E+=N,I+=D,A=A.next;for(_=k,O=S,f=0;n>f;f++)j[d]=m*P>>W,j[d+1]=p*P>>W,j[d+2]=v*P>>W,m-=h,p-=y,v-=w,h-=_.r,y-=_.g,w-=_.b,l=b+((l=f+o+1)<H?l:H)<<2,B+=_.r=j[l],E+=_.g=j[l+1],I+=_.b=j[l+2],m+=B,p+=E,v+=I,_=_.next,h+=C=O.r,y+=N=O.g,w+=D=O.b,B-=C,E-=N,I-=D,O=O.next,d+=4;b+=n}for(f=0;n>f;f++){for(E=I=B=p=v=m=0,d=f<<2,h=L*(C=j[d]),y=L*(N=j[d+1]),w=L*(D=j[d+2]),m+=T*C,p+=T*N,v+=T*D,A=k,s=0;L>s;s++)A.r=C,A.g=N,A.b=D,A=A.next;for(x=n,s=1;o>=s;s++)d=x+f<<2,m+=(A.r=C=j[d])*(R=L-s),p+=(A.g=N=j[d+1])*R,v+=(A.b=D=j[d+2])*R,B+=C,E+=N,I+=D,A=A.next,M>s&&(x+=n);for(d=f,_=k,O=S,i=0;a>i;i++)l=d<<2,j[l]=m*P>>W,j[l+1]=p*P>>W,j[l+2]=v*P>>W,m-=h,p-=y,v-=w,h-=_.r,y-=_.g,w-=_.b,l=f+((l=i+L)<M?l:M)*n<<2,m+=B+=_.r=j[l],p+=E+=_.g=j[l+1],v+=I+=_.b=j[l+2],_=_.next,h+=C=O.r,y+=N=O.g,w+=D=O.b,B-=C,E-=N,I-=D,O=O.next,d+=n}return t}function u(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}Object.defineProperty(e,"__esModule",{value:!0});var g=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],c=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];e["default"]={image:r,canvasRGBA:a,canvasRGB:f,imageDataRGBA:o,imageDataRGB:i},t.exports=e["default"]}])});